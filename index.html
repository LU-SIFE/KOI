<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico">
    <title>WEBKOI</title>

    <style>
        /* Critical Styles */
        html,
        body {
            background-color: rgba(30, 32, 34, 1);
            width: 100vw;
            height: 100vh;
        }
    </style>

    <link rel="stylesheet" href="index.css">
    <meta name="author" content="webkoi">
    <meta name="description"
        content="WEBKOI is a peaceful browser fishing game. Discover magical ponds, catch mythical koi, and enjoy relaxing gameplay. No downloads. Free.">
    <meta property="og:title" content="WEBKOI - Catch Mythical Fish" />
    <meta property="og:description" content="Discover peaceful fishing gameplay, unlock upgrades, and find rare koi." />
    <meta property="og:url" content="https://webkoi.org" />
    <meta property="og:image" content="https://webkoi.org/assets/card_img.png">
    <meta name="twitter:card" content="summary_large_image" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&display=swap" rel="stylesheet" defer>
</head>


<script src="helpers/svgHandler.js"></script>

<body>
    <!-- Audio Sources -->
    <!-- Ambience -->
    <audio id="sea-ambience" src="assets/sea-ambience.mp3" loop preload="auto"></audio>
    <audio id="rain-ambience" src="assets/rain-ambience.mp3" loop preload="auto"></audio>
    <audio id="park-ambience" src="assets/park-ambience.mp3" loop preload="auto"></audio>
    <!-- Sound Effects -->
    <audio id="fishUp" src="assets/splash.mp3" preload="auto"></audio>

    <!-- Tutorial and Lore -->
    <div id="blurMenu" class="hide">
        <div id="tutorialMenu" class="hide">
            <h2>Welcome to <b>WEBKOI</b>!</h2><br>
            <hr><br>
            <p>You can toggle the menu anytime by pressing <b>E</b>.</p><br>
            <p>Move your bobber using <b>W/S</b>, and <b>A/D</b> to turn.</p><br>
            <p>Once close to ripples, hold <b>SPACE</b> to catch a fish!</p><br>
            <p>Open the pond selection menu with <b>F</b>.</p>
            <button class="start" onclick="start();"><b>START</b></button>
        </div>
        <div id="loreMenu" class="defaultFade hide">lore...</div>
    </div>

    <!-- Game UI Elements -->
    <!-- Fishing Progress Bar -->
    <div id="holdBarContainer">
        <div id="holdBar"></div>
    </div>

    <!-- Fish Alert Box -->
    <div id="fishAlert" class="uiPanel uiZ"></div>

    <!-- Fish Alert Box -->
    <div id="fishInspect" class="uiPanel uiZ"></div>

    <!-- Quote Container -->
    <div id="quotes" class="uiZ"></div>

    <!-- Pond Select Menu -->
    <div id="pondMenu" class="hide uiPanel uiZ">
        <button class="hide" id="baseBtn" onclick="switchPond('base');">Beginner's Pond</button>
        <button class="hide" id="frozenBtn" onclick="switchPond('frozen');">Frozen Pond</button>
        <button class="hide" id="fireproofBtn" onclick="switchPond('fireproof');">Lava Pond</button>
        <button class="hide" id="twilightBtn" onclick="switchPond('twilight');">Twilight Pond</button>
        <button class="hide" id="etherealBtn" onclick="switchPond('ethereal');">Ghost Pond</button>
        <button class="hide" id="crystallineBtn" onclick="switchPond('crystalline');">Crystal Pond</button>
    </div>

    <!-- Right Menu -->
    <div class="uiZ hide" id="mainMenu">
        <div id="menus" class="hide uiPanel uiZ">
            <div class="hide" id="inventoryMenu">
                <div class="inventoryHeaders">
                    <div class="left">
                        <h2>Fish</h2>
                        <button onclick="sellAll('fish')">Sell All</button>
                    </div>

                    <div class="right">
                        <h2>Items</h2>
                        <button onclick="sellAll('items')">Sell All</button>
                    </div>
                </div>
                <hr>
                <div class="inventoryContainer">
                    <div id="fishContainer"></div>
                    <div id="itemContainer"></div>

                </div>
            </div>
            <div class="hide" id="marketMenu">
                <h2>Market</h2>
                <hr>
            </div>

            <div class="hide" id="upgradesMenu">
                <h2>Upgrades</h2>
                <hr>
                <span id="money">$0</span>
                <!-- Speed Upgrade -->
                <div class="upgradeRow" id="speedUpgrade">
                    <span id="speedPrice" class="upgradePrice">$0</span>
                    <button id="speedButton" onclick="upgradeItem('speed');" class="upgradeButton">Fishing
                        Speed</button>
                    <span id="speedInfo" class="upgradeInfo">10 Seconds</span>
                </div>

                <!-- Ripples (Fish Amount) Upgrade -->
                <div class="upgradeRow" id="ripplesUpgrade">
                    <span id="ripplesPrice" class="upgradePrice">$0</span>
                    <button id="ripplesButton" onclick="upgradeItem('ripples');" class="upgradeButton">Max Fish</button>
                    <span id="ripplesInfo" class="upgradeInfo">1 Max Fish</span>
                </div>

                <!-- Autofishers Upgrade -->
                <div class="upgradeRow" id="autofishersUpgrade">
                    <span id="autofishersPrice" class="upgradePrice">$0</span>
                    <button id="autofishersButton" onclick="upgradeItem('autofishers');" class="upgradeButton">Auto
                        Fisher</button>
                    <span id="autofishersInfo" class="upgradeInfo">0 Fishers</span>
                </div>

                <!-- Unlock Next Pond -->
                <div class="upgradeRow" id="nextPondUpgrade">
                    <span id="nextPondPrice" class="upgradePrice">$0</span>
                    <button id="nextPondButton" onclick="upgradeItem('nextPond');" class="upgradeButton">Unlock
                        Pond</button>
                    <span id="nextPondInfo" class="upgradeInfo">Unlock new location!</span>
                </div>

            </div>
            <div class="hide" id="compendiumMenu">
                <div class="compendiumHeader">
                    <h2>Compendium</h2><h2 id="compendiumProgress">0/233</h2>
                </div>
                <hr>
                <div id="compendiumContent">

                </div>
            </div>

            <div class="hide" id="settingsMenu">
                <h2>Settings</h2>
                <hr>
                <div class="settingsContainer">
                    <div class="settingsRow">
                        <span>Fullscreen</span>
                        <div class="toggleSwitch off" onclick="sliderToggle(this, 'fullscreen');">
                            <div class="slider"></div>
                        </div>
                    </div>
                    <div class="settingsRow">
                        <span>Quotes</span>
                        <div class="toggleSwitch on" onclick="sliderToggle(this, 'quotes');">
                            <div class="slider"></div>
                        </div>
                    </div>
                    <div class="settingsRow">
                        <span>Alerts</span>
                        <div class="toggleSwitch on" onclick="sliderToggle(this, 'alerts');">
                            <div class="slider"></div>
                        </div>
                    </div>
                    <div class="settingsRow">
                        <span>Ambience</span>
                        <div class="toggleSwitch on" onclick="sliderToggle(this, 'ambience');">
                            <div class="slider"></div>
                        </div>
                    </div>
                    <div class="settingsRow">
                        <span>SFX</span>
                        <div class="toggleSwitch on" onclick="sliderToggle(this, 'sfx');">
                            <div class="slider"></div>
                        </div>
                    </div>
                </div>
                <h2>Hotkeys</h2>
                <hr>

                <div class="hotkeyContainer">
                    <div class="hotkeyRow">
                        <span>Accelerate:</span>
                        <span>[W/S]</span>
                    </div>
                    <div class="hotkeyRow">
                        <span>Turn:</span>
                        <span>[A/D]</span>
                    </div>
                    <div class="hotkeyRow">
                        <span>Speed Up:</span>
                        <span>[Shift]</span>
                    </div>
                    <div class="hotkeyRow">
                        <span>Reel Fish:</span>
                        <span>[Space]</span>
                    </div>
                    <hr class="hotkeySeperator">
                    <div class="hotkeyRow">
                        <span>Open/Close Menu:</span>
                        <span>[E]</span>
                    </div>
                    <div class="hotkeyRow">
                        <span>Select Pond:</span>
                        <span>[F]</span>
                    </div>
                    <div class="hotkeyRow">
                        <span>Inventory:</span>
                        <span>[Q]</span>
                    </div>
                    <div class="hotkeyRow">
                        <span>Market:</span>
                        <span>[T]</span>
                    </div>
                    <div class="hotkeyRow">
                        <span>Upgrades:</span>
                        <span>[R]</span>
                    </div>
                    <div class="hotkeyRow">
                        <span>Compendium:</span>
                        <span>[C]</span>
                    </div>
                </div>

                <div class="links">
                    <a href="changelog/index.html">Changelog</a>
                </div>
            </div>
        </div>

        <!-- Navigation -->
        <div id="navigation">
            <button id="inventoryMenuBtn" class='active' onclick="toggleMenu('inventoryMenu', 'content');"><img
                    src="assets/inventory.svg" onload="inlineSVG(this)"></button>
            <button id="marketMenuBtn" onclick="toggleMenu('marketMenu', 'content');"><img src="assets/market.svg"
                    onload="inlineSVG(this)"></button>

            <button id="upgradesMenuBtn" onclick="toggleMenu('upgradesMenu', 'content');"><img src="assets/upgrades.svg"
                    onload="inlineSVG(this)"></button>
            <button id="compendiumMenuBtn" onclick="toggleMenu('compendiumMenu', 'content');"><img
                    src="assets/compendium.svg" onload="inlineSVG(this)"></button>
            <button id="settingsMenuBtn" onclick="toggleMenu('settingsMenu', 'content');">
                <img src="assets/gear.svg" onload="inlineSVG(this)">
            </button>
        </div>

    </div>

    <!-- Game & Overlay -->
    <div id="overlay"></div>
    <canvas id="game"></canvas>
</body>

<!-- Javascript -->

<script src="data/canvas.js"></script>
<script src="data/states.js"></script>
<script src="data/inventory.js"></script>
<script src="data/entities.js"></script>
<script src="data/fish.js"></script>
<script src="data/colors.js"></script>
<script src="data/upgrades.js"></script>

<script src="helpers/storageHandler.js"></script>

<script src="helpers/keyHandler.js"></script>
<script src="helpers/menuHandler.js"></script>
<script src="helpers/itemHandler.js"></script>
<script src="helpers/alertHandler.js"></script>
<script src="helpers/holdHandler.js"></script>
<script src="helpers/fishhandler.js"></script>
<script src="helpers/autoHandler.js"></script>
<script src="helpers/upgradeHandler.js"></script>
<script src="helpers/pondHandler.js"></script>
<script src="helpers/quoteHandler.js"></script>
<script src="helpers/settingsHandler.js"></script>
<script src="helpers/compendiumHandler.js"></script>
<script src="helpers/loreHelper.js"></script>
<script src="helpers/audioHandler.js"></script>
<script src="helpers/fullscreenHandler.js"></script>

<script src="index.js"></script>

</html>