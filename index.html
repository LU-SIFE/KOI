<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico">
    <title>WEBKOI</title>
    <style>
        /* Critical Styles */
        html,
        body {
            background-color: rgba(30, 32, 34, 1);
            width: 100vw;
            height: 100vh;
        }
    </style>
    
    <link rel="stylesheet" href="index.css">
    <meta name="author" content="webkoi">
    <meta name="description"
        content="WEBKOI is a peaceful browser fishing game. Discover magical ponds, catch mythical koi, and enjoy relaxing gameplay. No downloads. Free.">
    <meta property="og:title" content="WEBKOI - Catch Mythical Fish" />
    <meta property="og:description" content="Discover peaceful fishing gameplay, unlock upgrades, and find rare koi." />
    <meta property="og:url" content="https://webkoi.org" />
    <meta name="twitter:card" content="summary_large_image" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&display=swap" rel="stylesheet" defer>
</head>

<body>

    <!-- Audio Sources -->
    <!-- Ambience -->
    <audio id="sea-ambience" src="assets/sea-ambience.mp3" loop preload="auto"></audio>
    <audio id="rain-ambience" src="assets/rain-ambience.mp3" loop preload="auto"></audio>
    <audio id="park-ambience" src="assets/park-ambience.mp3" loop preload="auto"></audio>
    <!-- Sound Effects -->
    <audio id="fishUp" src="assets/splash.mp3" preload="auto"></audio>

    <!-- Game UI Elements -->
    <!-- Fishing Progress Bar -->
    <div id="holdBarContainer">
        <div id="holdBar"></div>
    </div>

    <!-- Fish Alert Box -->
    <div id="fishAlert" class="ui-panel"></div>

    <!-- Fish Alert Box -->
    <div id="fishInspect" class="ui-panel"></div>

    <!-- Quote Container -->
    <div id="quotes"></div>

    <!-- Main UI Container -->
    <div id="menu" class="hide ui-panel">

        <!-- Tutorial Content -->
        <div id="tutorial">
            <h2>Welcome to <b>KOI</b>!</h2><br>
            <p>You can bring up the upgrade menu anytime by pressing <b>E</b>.</p><br>
            <p>Move your bobber using <b>W/S</b>, and <b>A/D</b> to turn.</p><br>
            <p>Once close to ripples, hold <b>SPACE</b> to catch a fish!</p>
            <button class="start" onclick="start();"><b>START</b></button>
        </div>

        <!-- Upgrade Content -->
        <div id="upgrades">
            <h2 id="catchCount">Fish Caught: 0</h2><br>
            <hr><br>

            <h2>Upgrades:</h2>
            <h5 id="money">$0</h5>

            <div class="upgrade_container">
                <div class="price_col">
                    <span id="speed_price">$20</span>
                    <span id="fish_price">$80</span>
                    <span id="fisher_price">$300</span>
                    <span id="nextpond_price">$5000</span>
                </div>
                <div class="left_col">
                    <button onclick="upgradeUpgrade('Speed');">Fishing Speed</button>
                    <button onclick="upgradeUpgrade('FishAmount');">Max Fish</button>
                    <button onclick="upgradeUpgrade('Fishers');">Auto Fisher</button>
                    <button onclick="this.blur(); upgradeUpgrade('NextPond');">Next Pond</button>
                </div>
                <div class="right_col">
                    <span id="speed_info">10 Seconds</span>
                    <span id="fish_info">1 Max Fish</span>
                    <span id="fisher_info">0 Fishers</span>
                    <span id="nextpond_info">(Locked)</span>
                </div>
            </div>
        </div>

        <!-- Market Content -->
        <div id="market">
            <h2>Market</h2><br>
            <hr><br>
            Under Construction!
        </div>

        <!-- Inventory Content -->
        <div id="inventory">
            <h2>Inventory</h2><br>
            <hr><br>
            <!-- Fish caught, items, boosts, chests,  -->
            <div class="inventory_container">
                <div class="left_inv">
                    <h2>Fish</h2>
                    <hr>
                    <div id="inventory_fish_content" class="inventory-grid"></div>
                </div>

                <div class="right_inv">
                    <h2>Items</h2>
                    <hr>
                </div>
            </div>
        </div>

        <!-- Settings Content -->
        <div id="settings">
            <h2>Settings</h2><br>
            <hr><br>

            <div class="settings_block">
                <button onclick="this.blur(); toggleFullscreen()">Fullscreen</button>
                <button onclick="this.blur(); toggle_quotes();">Quotes</button>
                <button onclick="this.blur(); SoundManager.muteAmbienceToggle();">Ambience</button>
                <button onclick="this.blur(); SoundManager.muteSfxToggle();">SFX</button>
            </div>
            <div class="settings_block">
                <a href="roadmap/index.html">Roadmap</a>
                <a href="changelog/index.html">Changelog</a>
                <a href="http://coff.ee/lusife">Support me!</a>
            </div>
        </div>

        <!-- Menu Navigation -->
        <div class="menu_block">
            <button id="upgrades_btn" onclick="swap_menu('upgrade');" class="no-m">Upgrades</button>
            <button id="market_btn" onclick="swap_menu('market');">Market</button>
            <button id="inventory_btn" onclick="swap_menu('inventory');">Inventory</button>
            <button id="settings_btn" onclick="swap_menu('settings');"><img src="assets/gear.svg"></button>
        </div>
    </div>

    <!-- Game & Overlay -->
    <div id="overlay" class="overlay"></div>
    <canvas id="game"></canvas>
</body>


<!-- Javascript -->
<script src="init.js"></script>

<script src="ui/quotes.js"></script>
<script src="ui/holdBar.js"></script>
<script src="ui/inventory.js"></script>
<script src="ui/upgrades.js"></script>
<script src="ui/menus.js"></script>
<script src="ui/fullscreen.js"></script>


<!-- Load this First! -->
<script src="index.js"></script>

<!-- Most of these are dependent on index.js -->
<script src="world/fishdex.js"></script>
<script src="world/fishspots.js"></script>
<script src="world/audio.js"></script>
<script src="main/draw.js"></script>
<script src="main/update.js"></script>
<script src="entities/autofishers.js"></script>

</html>